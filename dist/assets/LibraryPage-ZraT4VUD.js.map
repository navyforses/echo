{"version":3,"file":"LibraryPage-ZraT4VUD.js","sources":["../../node_modules/framer-motion/dist/es/utils/use-is-mounted.mjs","../../node_modules/framer-motion/dist/es/utils/use-force-update.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","../../node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs","../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","../../node_modules/lucide-react/dist/esm/icons/filter.mjs","../../node_modules/lucide-react/dist/esm/icons/search.mjs","../../src/data/historicalFigures.ts","../../src/features/library/BookCard.tsx","../../src/features/library/BookShelf.tsx","../../src/components/Book/pages/CharacterInfoPage.jsx","../../src/components/Book/pages/VideoPage.jsx","../../src/components/Book/Book.tsx","../../src/features/library/VideoBookView.tsx","../../src/features/library/LibraryPage.tsx"],"sourcesContent":["import { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-effect.mjs';\n\nfunction useIsMounted() {\n    const isMounted = useRef(false);\n    useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n\nexport { useIsMounted };\n","import { useState, useCallback } from 'react';\nimport { useIsMounted } from './use-is-mounted.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useForceUpdate() {\n    const isMounted = useIsMounted();\n    const [forcedRenderCount, setForcedRenderCount] = useState(0);\n    const forceRender = useCallback(() => {\n        isMounted.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n    /**\n     * Defer this to the end of the next animation frame in case there are multiple\n     * synchronous calls.\n     */\n    const deferredForceRender = useCallback(() => frame.postRender(forceRender), [forceRender]);\n    return [deferredForceRender, forcedRenderCount];\n}\n\nexport { useForceUpdate };\n","import * as React from 'react';\nimport { useId, useRef, useInsertionEffect } from 'react';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n    });\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `);\n        }\n        return () => {\n            document.head.removeChild(style);\n        };\n    }, [isPresent]);\n    return (React.createElement(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size }, React.cloneElement(children, { ref })));\n}\n\nexport { PopChild };\n","import * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: (childId) => {\n            presenceChildren.set(childId, true);\n            for (const isComplete of presenceChildren.values()) {\n                if (!isComplete)\n                    return; // can stop searching when any is incomplete\n            }\n            onExitComplete && onExitComplete();\n        },\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = React.createElement(PopChild, { isPresent: isPresent }, children);\n    }\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(() => () => callback(), []);\n}\n\nexport { useUnmountEffect };\n","import * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { useIsMounted } from '../../utils/use-is-mounted.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { useUnmountEffect } from '../../utils/use-unmount-effect.mjs';\nimport { invariant } from '../../utils/errors.mjs';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction updateChildLookup(children, allChildren) {\n    children.forEach((child) => {\n        const key = getChildKey(child);\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, exitBeforeEnter, presenceAffectsLayout = true, mode = \"sync\", }) => {\n    invariant(!exitBeforeEnter, \"Replace exitBeforeEnter with mode='wait'\");\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    const forceRender = useContext(LayoutGroupContext).forceRender || useForceUpdate()[0];\n    const isMounted = useIsMounted();\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    const filteredChildren = onlyElements(children);\n    let childrenToRender = filteredChildren;\n    const exitingChildren = useRef(new Map()).current;\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    const presentChildren = useRef(childrenToRender);\n    // A lookup table to quickly reference components by key\n    const allChildren = useRef(new Map()).current;\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    const isInitialRender = useRef(true);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        updateChildLookup(filteredChildren, allChildren);\n        presentChildren.current = childrenToRender;\n    });\n    useUnmountEffect(() => {\n        isInitialRender.current = true;\n        allChildren.clear();\n        exitingChildren.clear();\n    });\n    if (isInitialRender.current) {\n        return (React.createElement(React.Fragment, null, childrenToRender.map((child) => (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child)))));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    childrenToRender = [...childrenToRender];\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    const presentKeys = presentChildren.current.map(getChildKey);\n    const targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    const numPresent = presentKeys.length;\n    for (let i = 0; i < numPresent; i++) {\n        const key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1 && !exitingChildren.has(key)) {\n            exitingChildren.set(key, undefined);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (mode === \"wait\" && exitingChildren.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exitingChildren.forEach((component, key) => {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        const child = allChildren.get(key);\n        if (!child)\n            return;\n        const insertionIndex = presentKeys.indexOf(key);\n        let exitingComponent = component;\n        if (!exitingComponent) {\n            const onExit = () => {\n                // clean up the exiting children map\n                exitingChildren.delete(key);\n                // compute the keys of children that were rendered once but are no longer present\n                // this could happen in case of too many fast consequent renderings\n                // @link https://github.com/framer/motion/issues/2023\n                const leftOverKeys = Array.from(allChildren.keys()).filter((childKey) => !targetKeys.includes(childKey));\n                // clean up the all children map\n                leftOverKeys.forEach((leftOverKey) => allChildren.delete(leftOverKey));\n                // make sure to render only the children that are actually visible\n                presentChildren.current = filteredChildren.filter((presentChild) => {\n                    const presentChildKey = getChildKey(presentChild);\n                    return (\n                    // filter out the node exiting\n                    presentChildKey === key ||\n                        // filter out the leftover children\n                        leftOverKeys.includes(presentChildKey));\n                });\n                // Defer re-rendering until all exiting children have indeed left\n                if (!exitingChildren.size) {\n                    if (isMounted.current === false)\n                        return;\n                    forceRender();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            exitingComponent = (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n            exitingChildren.set(key, exitingComponent);\n        }\n        childrenToRender.splice(insertionIndex, 0, exitingComponent);\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map((child) => {\n        const key = child.key;\n        return exitingChildren.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n    });\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        childrenToRender.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    return (React.createElement(React.Fragment, null, exitingChildren.size\n        ? childrenToRender\n        : childrenToRender.map((child) => cloneElement(child))));\n};\n\nexport { AnimatePresence };\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Filter = createLucideIcon(\"Filter\", [\n  [\n    \"polygon\",\n    { points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\", key: \"1yg77f\" }\n  ]\n]);\n\nexport { Filter as default };\n//# sourceMappingURL=filter.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.mjs.map\n","export interface HistoricalFigure {\r\n  id: string;\r\n  name: {\r\n    ka: string;\r\n    en: string;\r\n  };\r\n  title: {\r\n    ka: string;\r\n    en: string;\r\n  };\r\n  birthYear: number;\r\n  deathYear: number;\r\n  image: string;\r\n  imageUrl: string;\r\n  description: {\r\n    ka: string;\r\n    en: string;\r\n  };\r\n  achievements: {\r\n    ka: string[];\r\n    en: string[];\r\n  };\r\n  historicalRole: string;\r\n  greeting: string;\r\n  era: {\r\n    ka: string;\r\n    en: string;\r\n  };\r\n  category: {\r\n    ka: string;\r\n    en: string;\r\n  };\r\n  videos: {\r\n    number: number;\r\n    title: string;\r\n    description: string;\r\n    url: string;\r\n  }[];\r\n}\r\n\r\nexport const categories = [\r\n  {\r\n    value: 'writers',\r\n    label: {\r\n      ka: 'მწერლები',\r\n      en: 'Writers'\r\n    }\r\n  },\r\n  {\r\n    value: 'poets',\r\n    label: {\r\n      ka: 'პოეტები',\r\n      en: 'Poets'\r\n    }\r\n  },\r\n  {\r\n    value: 'scientists',\r\n    label: {\r\n      ka: 'მეცნიერები',\r\n      en: 'Scientists'\r\n    }\r\n  },\r\n  {\r\n    value: 'reformers',\r\n    label: {\r\n      ka: 'რეფორმატორები',\r\n      en: 'Reformers'\r\n    }\r\n  }\r\n];\r\n\r\nexport const eras = [\r\n  {\r\n    value: 'medieval',\r\n    label: {\r\n      ka: 'შუა საუკუნეები',\r\n      en: 'Medieval'\r\n    }\r\n  },\r\n  {\r\n    value: 'renaissance',\r\n    label: {\r\n      ka: 'რენესანსი',\r\n      en: 'Renaissance'\r\n    }\r\n  },\r\n  {\r\n    value: 'modern',\r\n    label: {\r\n      ka: 'თანამედროვე პერიოდი',\r\n      en: 'Modern Period'\r\n    }\r\n  },\r\n  {\r\n    value: 'contemporary',\r\n    label: {\r\n      ka: 'თანამედროვე',\r\n      en: 'Contemporary'\r\n    }\r\n  }\r\n];\r\n\r\nexport const historicalFigures: HistoricalFigure[] = [\r\n  {\r\n    id: \"ilia-chavchavadze\",\r\n    name: {\r\n      ka: \"ილია ჭავჭავაძე\",\r\n      en: \"Ilia Chavchavadze\"\r\n    },\r\n    title: {\r\n      ka: \"საზოგადო მოღვაწე, მწერალი, პუბლიცისტი\",\r\n      en: \"Public Figure, Writer, Publicist\"\r\n    },\r\n    birthYear: 1837,\r\n    deathYear: 1907,\r\n    image: \"/images/figures/ilia-chavchavadze.jpg\",\r\n    imageUrl: \"/images/figures/ilia-chavchavadze.jpg\",\r\n    description: {\r\n      ka: \"XIX საუკუნის ქართველი საზოგადო მოღვაწე, მწერალი, პუბლიცისტი და პოლიტიკოსი. ის იყო თერგდალეულების ხელმძღვანელი და ქართული ეროვნული მოძრაობის ერთ-ერთი მთავარი იდეოლოგი.\",\r\n      en: \"19th century Georgian public figure, writer, publicist and politician. He was the leader of the Tergdaleulebi and one of the main ideologists of the Georgian national movement.\"\r\n    },\r\n    achievements: {\r\n      ka: [\r\n        \"ქართული ენისა და კულტურის განვითარება\",\r\n        \"საზოგადოებრივი აზრის ფორმირება\",\r\n        \"ლიტერატურული მემკვიდრეობის შექმნა\",\r\n        \"ეროვნული თვითშეგნების აღზრდა\"\r\n      ],\r\n      en: [\r\n        \"Development of Georgian language and culture\",\r\n        \"Formation of public opinion\",\r\n        \"Creation of literary heritage\",\r\n        \"Raising national self-awareness\"\r\n      ]\r\n    },\r\n    historicalRole: \"ილია ჭავჭავაძე ითვლება ქართული ეროვნული აღორძინების მთავარ ფიგურად. მისი მოღვაწეობა ხელს უწყობდა ქართული საზოგადოების განვითარებას და თანამედროვე ქართული ნაციონალიზმის ფორმირებას.\",\r\n    greeting: \"გამარჯობა! მე ვარ ილია ჭავჭავაძე. შეგიძლიათ მკითხოთ ჩემს ცხოვრებაზე, მუშაობაზე და იდეალებზე.\",\r\n    era: {\r\n      ka: \"XIX საუკუნე\",\r\n      en: \"19th Century\"\r\n    },\r\n    category: {\r\n      ka: \"მწერლები\",\r\n      en: \"Writers\"\r\n    },\r\n    videos: [\r\n      {\r\n        number: 1,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 1\",\r\n        description: \"ილია ჭავჭავაძის ცხოვრება და მოღვაწეობა\",\r\n        url: \"/videos/ilia-1.mp4\"\r\n      },\r\n      {\r\n        number: 2,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 2\",\r\n        description: \"საზოგადოებრივი მოღვაწეობა\",\r\n        url: \"/videos/ilia-2.mp4\"\r\n      },\r\n      {\r\n        number: 3,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 3\",\r\n        description: \"ლიტერატურული მემკვიდრეობა\",\r\n        url: \"/videos/ilia-3.mp4\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: \"vazha-pshavela\",\r\n    name: {\r\n      ka: \"ვაჟა-ფშაველა\",\r\n      en: \"Vazha-Pshavela\"\r\n    },\r\n    title: {\r\n      ka: \"პოეტი, მწერალი, ფილოსოფოსი\",\r\n      en: \"Poet, Writer, Philosopher\"\r\n    },\r\n    birthYear: 1861,\r\n    deathYear: 1915,\r\n    image: \"/images/figures/vazha-pshavela.jpg\",\r\n    imageUrl: \"/images/figures/vazha-pshavela.jpg\",\r\n    description: {\r\n      ka: \"XIX-XX საუკუნეების ქართველი პოეტი, მწერალი და ფილოსოფოსი. ის იყო ქართული რომანტიზმის მთავარი წარმომადგენელი და ფშავური ფოლკლორის შემსწავლელი.\",\r\n      en: \"19th-20th century Georgian poet, writer and philosopher. He was the main representative of Georgian romanticism and a researcher of Pshavian folklore.\"\r\n    },\r\n    achievements: {\r\n      ka: [\r\n        \"ქართული რომანტიზმის განვითარება\",\r\n        \"ფშავური ფოლკლორის შესწავლა\",\r\n        \"ფილოსოფიური პოეზიის შექმნა\",\r\n        \"ეროვნული იდენტობის განვითარება\"\r\n      ],\r\n      en: [\r\n        \"Development of Georgian romanticism\",\r\n        \"Study of Pshavian folklore\",\r\n        \"Creation of philosophical poetry\",\r\n        \"Development of national identity\"\r\n      ]\r\n    },\r\n    historicalRole: \"ვაჟა-ფშაველა ითვლება ქართული ლიტერატურის ერთ-ერთ უდიდეს ფიგურად. მისი შემოქმედება ხელს უწყობდა ქართული კულტურის განვითარებას და ეროვნული თვითშეგნების აღზრდას.\",\r\n    greeting: \"გამარჯობა! მე ვარ ვაჟა-ფშაველა. შეგიძლიათ მკითხოთ ჩემს შემოქმედებაზე, ფილოსოფიაზე და ცხოვრებისეულ გამოცდილებაზე.\",\r\n    era: {\r\n      ka: \"XIX-XX საუკუნე\",\r\n      en: \"19th-20th Century\"\r\n    },\r\n    category: {\r\n      ka: \"პოეტები\",\r\n      en: \"Poets\"\r\n    },\r\n    videos: [\r\n      {\r\n        number: 1,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 1\",\r\n        description: \"ვაჟა-ფშაველას ცხოვრება და შემოქმედება\",\r\n        url: \"/videos/vazha-1.mp4\"\r\n      },\r\n      {\r\n        number: 2,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 2\",\r\n        description: \"პოეტური მემკვიდრეობა\",\r\n        url: \"/videos/vazha-2.mp4\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: \"shota-rustaveli\",\r\n    name: {\r\n      ka: \"შოთა რუსთაველი\",\r\n      en: \"Shota Rustaveli\"\r\n    },\r\n    title: {\r\n      ka: \"პოეტი, მწერალი, ფილოსოფოსი\",\r\n      en: \"Poet, Writer, Philosopher\"\r\n    },\r\n    birthYear: 1160,\r\n    deathYear: 1216,\r\n    image: \"/images/figures/shota-rustaveli.jpg\",\r\n    imageUrl: \"/images/figures/shota-rustaveli.jpg\",\r\n    description: {\r\n      ka: \"XII საუკუნის ქართველი პოეტი, მწერალი და ფილოსოფოსი. ის არის ქართული ლიტერატურის უდიდესი ნაწარმოების - 'ვეფხისტყაოსნის' ავტორი.\",\r\n      en: \"12th century Georgian poet, writer and philosopher. He is the author of the greatest work of Georgian literature - 'The Knight in the Panther's Skin'.\"\r\n    },\r\n    achievements: {\r\n      ka: [\r\n        \"'ვეფხისტყაოსნის' შექმნა\",\r\n        \"ქართული პოეზიის განვითარება\",\r\n        \"ფილოსოფიური აზროვნების განვითარება\",\r\n        \"ეროვნული კულტურის გამდიდრება\"\r\n      ],\r\n      en: [\r\n        \"Creation of 'The Knight in the Panther's Skin'\",\r\n        \"Development of Georgian poetry\",\r\n        \"Development of philosophical thinking\",\r\n        \"Enrichment of national culture\"\r\n      ]\r\n    },\r\n    historicalRole: \"შოთა რუსთაველი ითვლება ქართული ლიტერატურის უდიდეს ფიგურად. მისი 'ვეფხისტყაოსანი' არის ქართული კულტურის უმნიშვნელოვანესი ნაწარმოები.\",\r\n    greeting: \"გამარჯობა! მე ვარ შოთა რუსთაველი. შეგიძლიათ მკითხოთ ჩემს შემოქმედებაზე, ფილოსოფიაზე და 'ვეფხისტყაოსანზე'.\",\r\n    era: {\r\n      ka: \"შუა საუკუნეები\",\r\n      en: \"Medieval\"\r\n    },\r\n    category: {\r\n      ka: \"პოეტები\",\r\n      en: \"Poets\"\r\n    },\r\n    videos: [\r\n      {\r\n        number: 1,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 1\",\r\n        description: \"შოთა რუსთაველის ცხოვრება\",\r\n        url: \"/videos/ilia-1.mp4\"\r\n      },\r\n      {\r\n        number: 2,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 2\",\r\n        description: \"'ვეფხისტყაოსნის' შექმნა\",\r\n        url: \"/videos/ilia-2.mp4\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: \"niko-nikoladze\",\r\n    name: {\r\n      ka: \"ნიკო ნიკოლაძე\",\r\n      en: \"Niko Nikoladze\"\r\n    },\r\n    title: {\r\n      ka: \"მეცნიერი, რეფორმატორი, საზოგადო მოღვაწე\",\r\n      en: \"Scientist, Reformer, Public Figure\"\r\n    },\r\n    birthYear: 1843,\r\n    deathYear: 1928,\r\n    image: \"/images/figures/niko-nikoladze.jpg\",\r\n    imageUrl: \"/images/figures/niko-nikoladze.jpg\",\r\n    description: {\r\n      ka: \"XIX-XX საუკუნეების ქართველი მეცნიერი, რეფორმატორი და საზოგადო მოღვაწე. ის იყო ქართული მეცნიერების ფუნდატორი და განათლების სისტემის რეფორმატორი.\",\r\n      en: \"19th-20th century Georgian scientist, reformer and public figure. He was the founder of Georgian science and a reformer of the education system.\"\r\n    },\r\n    achievements: {\r\n      ka: [\r\n        \"თბილისის უნივერსიტეტის დაარსება\",\r\n        \"ქართული მეცნიერების განვითარება\",\r\n        \"საგანმანათლებლო რეფორმების გატარება\",\r\n        \"სამეცნიერო ჟურნალების დაარსება\"\r\n      ],\r\n      en: [\r\n        \"Foundation of Tbilisi University\",\r\n        \"Development of Georgian science\",\r\n        \"Implementation of educational reforms\",\r\n        \"Establishment of scientific journals\"\r\n      ]\r\n    },\r\n    historicalRole: \"ნიკო ნიკოლაძე ითვლება ქართული მეცნიერების ფუნდატორად. მისი მოღვაწეობა ხელს უწყობდა საქართველოს განათლების სისტემის განვითარებას და თანამედროვე ქართული მეცნიერების ფორმირებას.\",\r\n    greeting: \"გამარჯობა! მე ვარ ნიკო ნიკოლაძე. შეგიძლიათ მკითხოთ ჩემს მეცნიერულ მუშაობაზე, რეფორმებზე და განათლების განვითარებაზე.\",\r\n    era: {\r\n      ka: \"XIX-XX საუკუნე\",\r\n      en: \"19th-20th Century\"\r\n    },\r\n    category: {\r\n      ka: \"მეცნიერები\",\r\n      en: \"Scientists\"\r\n    },\r\n    videos: [\r\n      {\r\n        number: 1,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 1\",\r\n        description: \"ნიკო ნიკოლაძის ცხოვრება და მოღვაწეობა\",\r\n        url: \"/videos/vazha-1.mp4\"\r\n      },\r\n      {\r\n        number: 2,\r\n        title: \"დოკუმენტური ფილმი ნაწილი 2\",\r\n        description: \"მეცნიერული მუშაობა\",\r\n        url: \"/videos/vazha-2.mp4\"\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nexport const getHistoricalFigure = (id: string): HistoricalFigure | undefined => {\r\n  return historicalFigures.find(figure => figure.id === id);\r\n}; ","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { HistoricalFigure } from '../../data/historicalFigures';\n\ninterface BookCardProps {\n  figure: HistoricalFigure;\n  onClick: (figure: HistoricalFigure) => void;\n  index: number;\n}\n\nconst BookCard: React.FC<BookCardProps> = ({ figure, onClick, index }) => {\n  const { i18n } = useTranslation();\n  const navigate = useNavigate();\n  const language = i18n.language as 'ka' | 'en';\n\n  // Determine book color based on figure\n  const getBookColor = (figureId: string) => {\n    switch (figureId) {\n      case 'ilia-chavchavadze':\n        return '#2C5530'; // Deep forest green\n      case 'vazha-pshavela':\n        return '#B5A492'; // Weathered tan/beige\n      case 'shota-rustaveli':\n        return '#8B1A1A'; // Aged burgundy/maroon\n      case 'niko-nikoladze':\n        return '#C17A5E'; // Dusty terracotta\n      default:\n        return '#8B4513'; // Default brown\n    }\n  };\n\n  // Determine book thickness based on figure\n  const getBookThickness = (figureId: string) => {\n    switch (figureId) {\n      case 'ilia-chavchavadze':\n        return 4; // Increased thickness for better proportions\n      case 'vazha-pshavela':\n        return 3.5;\n      case 'shota-rustaveli':\n        return 4.5;\n      case 'niko-nikoladze':\n        return 4;\n      default:\n        return 4;\n    }\n  };\n\n  const bookColor = getBookColor(figure.id);\n  const bookThickness = getBookThickness(figure.id);\n\n  const handleBookClick = () => {\n    // Navigate to vintage book page\n    navigate(`/vintage-book/${figure.id}`);\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, x: -50 }}\n      animate={{ opacity: 1, x: 0 }}\n      transition={{ duration: 0.5, delay: index * 0.1 }}\n      whileHover={{ \n        scale: 1.05, \n        z: 20,\n        rotateY: 5,\n        transition: { duration: 0.2 }\n      }}\n      onClick={handleBookClick}\n      className=\"cursor-pointer group relative\"\n      style={{\n        width: `${bookThickness * 25}px`, // Increased width for better proportions\n        height: '320px', // Increased height for better text spacing\n        perspective: '1000px'\n      }}\n    >\n      {/* Book spine with XIX century aged leather texture */}\n      <div\n        className=\"relative w-full h-full rounded-sm shadow-lg transform transition-all duration-300 group-hover:shadow-2xl book-spine\"\n        style={{\n          background: `\n            linear-gradient(180deg, \n              rgba(0,0,0,0.2) 0%, \n              transparent 20%, \n              rgba(255,255,255,0.08) 50%, \n              transparent 80%, \n              rgba(0,0,0,0.3) 100%\n            ),\n            linear-gradient(135deg, \n              ${bookColor} 0%, \n              ${bookColor}dd 50%, \n              ${bookColor}aa 100%\n            ),\n            repeating-linear-gradient(\n              45deg,\n              transparent,\n              transparent 3px,\n              rgba(0,0,0,0.15) 3px,\n              rgba(0,0,0,0.15) 6px\n            ),\n            repeating-linear-gradient(\n              90deg,\n              transparent,\n              transparent 10px,\n              rgba(0,0,0,0.1) 10px,\n              rgba(0,0,0,0.1) 12px\n            )\n          `,\n          border: '1px solid rgba(139,69,19,0.3)',\n          borderRadius: '4px'\n        }}\n      >\n        {/* XIX century leather texture overlay */}\n        <div \n          className=\"absolute inset-0 rounded-sm opacity-30\"\n          style={{\n            background: `\n              radial-gradient(ellipse at top, transparent 40%, rgba(139,69,19,0.15) 100%),\n              repeating-radial-gradient(\n                circle at 20% 30%,\n                transparent 0,\n                transparent 3px,\n                rgba(139,69,19,0.08) 3px,\n                rgba(139,69,19,0.08) 6px\n              ),\n              radial-gradient(ellipse at bottom, rgba(0,0,0,0.1) 0%, transparent 60%)\n            `,\n            mixBlendMode: 'multiply'\n          }}\n        ></div>\n\n        {/* XIX century gold lettering on spine - Improved positioning */}\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center p-3\">\n          <div className=\"text-center w-full\">\n            {/* Decorative top element */}\n            <div className=\"w-full h-px bg-gradient-to-r from-transparent via-[#D4A574]/60 to-transparent mb-4\"></div>\n            \n            {/* Main title */}\n            <h3 \n              className=\"text-base font-bold mb-3 font-georgian book-title\"\n              style={{\n                writingMode: 'vertical-rl',\n                textOrientation: 'mixed',\n                textShadow: '0 2px 4px rgba(0,0,0,0.8), 0 0 8px rgba(212,165,116,0.4)',\n                background: 'linear-gradient(45deg, #D4A574 0%, #B08D57 50%, #8B7355 100%)',\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                filter: 'brightness(1.2)',\n                letterSpacing: '1px',\n                lineHeight: '1.2',\n                maxHeight: '180px',\n                overflow: 'hidden',\n                display: 'block',\n                margin: '0 auto'\n              }}\n            >\n              {figure.name[language]}\n            </h3>\n            \n            {/* Middle decorative element */}\n            <div className=\"w-full h-px bg-gradient-to-r from-transparent via-[#B08D57]/40 to-transparent my-3\"></div>\n            \n            {/* Date range */}\n            <p \n              className=\"text-xs text-[#D4A574]/90 font-georgian\"\n              style={{\n                writingMode: 'vertical-rl',\n                textOrientation: 'mixed',\n                textShadow: '0 1px 2px rgba(0,0,0,0.6)',\n                letterSpacing: '0.5px',\n                lineHeight: '1.1',\n                margin: '0 auto',\n                display: 'block'\n              }}\n            >\n              {figure.birthYear} - {figure.deathYear}\n            </p>\n            \n            {/* Bottom decorative element */}\n            <div className=\"w-full h-px bg-gradient-to-r from-transparent via-[#D4A574]/40 to-transparent mt-4\"></div>\n          </div>\n        </div>\n\n        {/* XIX century book binding details */}\n        <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-b from-[#654321] to-transparent\"></div>\n        <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-t from-[#654321] to-transparent\"></div>\n        \n        {/* Decorative stitching - Adjusted positions */}\n        <div className=\"absolute top-1/3 left-0 right-0 h-px bg-[#D4A574]/30\"></div>\n        <div className=\"absolute top-2/3 left-0 right-0 h-px bg-[#D4A574]/30\"></div>\n        \n        {/* Corner wear */}\n        <div className=\"absolute top-0 left-0 w-2 h-2 bg-[#654321]/60 rounded-br-sm\"></div>\n        <div className=\"absolute top-0 right-0 w-2 h-2 bg-[#654321]/60 rounded-bl-sm\"></div>\n        <div className=\"absolute bottom-0 left-0 w-2 h-2 bg-[#654321]/60 rounded-tr-sm\"></div>\n        <div className=\"absolute bottom-0 right-0 w-2 h-2 bg-[#654321]/60 rounded-tl-sm\"></div>\n      </div>\n\n      {/* XIX century book glow effect on hover */}\n      <div \n        className=\"absolute inset-0 rounded-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n        style={{\n          background: `radial-gradient(ellipse, rgba(212,165,116,0.2) 0%, transparent 70%)`,\n          filter: 'blur(8px)',\n          transform: 'scale(1.1)',\n          zIndex: -1\n        }}\n      ></div>\n\n      {/* XIX century tooltip - Improved positioning */}\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        whileHover={{ opacity: 1, y: 0 }}\n        className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 px-4 py-3 bg-gradient-to-r from-[#1C1410] to-[#2A1810] text-[#D4A574] rounded-lg shadow-[0_4px_12px_rgba(0,0,0,0.8)] border border-[#D4A574]/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-30\"\n        style={{\n          fontFamily: i18n.language === 'ka' ? 'Noto Serif Georgian, serif' : 'Georgia, serif',\n          letterSpacing: '1px',\n          whiteSpace: 'nowrap',\n          minWidth: '200px',\n          textAlign: 'center'\n        }}\n      >\n        <div className=\"text-sm font-bold mb-1\">{figure.name[language]}</div>\n        <div className=\"text-xs text-[#B08D57] mb-1\">{figure.birthYear} - {figure.deathYear}</div>\n        <div className=\"text-xs text-[#B08D57]/80\">{figure.title[language]}</div>\n        <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-[#1C1410]\"></div>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default BookCard; ","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { HistoricalFigure } from '../../data/historicalFigures';\r\nimport BookCard from './BookCard';\r\n\r\ninterface BookShelfProps {\r\n  figures: HistoricalFigure[];\r\n  onBookClick: (figure: HistoricalFigure) => void;\r\n  title?: string;\r\n}\r\n\r\nconst BookShelf: React.FC<BookShelfProps> = ({ figures, onBookClick, title }) => {\r\n  const { i18n } = useTranslation();\r\n  const language = i18n.language as 'ka' | 'en';\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 50 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.8 }}\r\n      className=\"relative\"\r\n    >\r\n      {/* Shelf title */}\r\n      {title && (\r\n        <motion.h2\r\n          initial={{ opacity: 0, x: -30 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.2 }}\r\n          className={`text-3xl font-bold text-[#D4A574] mb-8 ${\r\n            i18n.language === 'ka' ? 'font-georgian' : 'font-heading'\r\n          }`}\r\n          style={{\r\n            textShadow: '2px 2px 4px rgba(0, 0, 0, 0.6)',\r\n            letterSpacing: '2px'\r\n          }}\r\n        >\r\n          {title}\r\n        </motion.h2>\r\n      )}\r\n\r\n      {/* XIX Century Wooden shelf container - Improved sizing */}\r\n      <div className=\"relative bg-gradient-to-b from-[#8B4513] via-[#A0522D] to-[#8B4513] rounded-lg p-8 shadow-[0_20px_40px_rgba(0,0,0,0.8)] border-2 border-[#654321]\">\r\n        {/* Wood grain texture */}\r\n        <div \r\n          className=\"absolute inset-0 rounded-lg opacity-30\"\r\n          style={{\r\n            background: `\r\n              repeating-linear-gradient(\r\n                90deg,\r\n                transparent,\r\n                transparent 3px,\r\n                rgba(0,0,0,0.2) 3px,\r\n                rgba(0,0,0,0.2) 6px\r\n              ),\r\n              repeating-linear-gradient(\r\n                0deg,\r\n                transparent,\r\n                transparent 20px,\r\n                rgba(0,0,0,0.1) 20px,\r\n                rgba(0,0,0,0.1) 22px\r\n              )\r\n            `\r\n          }}\r\n        ></div>\r\n\r\n        {/* Shelf edge - XIX century style */}\r\n        <div className=\"absolute top-0 left-0 right-0 h-3 bg-gradient-to-b from-[#654321] to-[#8B4513] rounded-t-lg border-b border-[#3E2723]\"></div>\r\n        <div className=\"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-[#654321] to-[#8B4513] rounded-b-lg border-t border-[#3E2723]\"></div>\r\n\r\n        {/* Books container - Improved spacing */}\r\n        <div className=\"relative z-10 flex items-end justify-center space-x-3 min-h-[360px] px-4\">\r\n          {figures.map((figure, index) => (\r\n            <BookCard\r\n              key={figure.id}\r\n              figure={figure}\r\n              onClick={onBookClick}\r\n              index={index}\r\n            />\r\n          ))}\r\n        </div>\r\n\r\n        {/* Shelf supports - XIX century style */}\r\n        <div className=\"absolute bottom-0 left-6 right-6 h-6 bg-gradient-to-t from-[#3E2723] to-[#654321] rounded-b-lg border-t-2 border-[#2E1A1A]\"></div>\r\n        <div className=\"absolute bottom-0 left-12 right-12 h-3 bg-gradient-to-t from-[#2E1A1A] to-[#3E2723] border-t border-[#1A0F0F]\"></div>\r\n        \r\n        {/* Decorative brass fittings */}\r\n        <div className=\"absolute top-2 left-4 w-3 h-3 bg-[#B08D57] rounded-full shadow-[0_0_8px_rgba(176,141,87,0.6)]\"></div>\r\n        <div className=\"absolute top-2 right-4 w-3 h-3 bg-[#B08D57] rounded-full shadow-[0_0_8px_rgba(176,141,87,0.6)]\"></div>\r\n        <div className=\"absolute bottom-2 left-4 w-3 h-3 bg-[#B08D57] rounded-full shadow-[0_0_8px_rgba(176,141,87,0.6)]\"></div>\r\n        <div className=\"absolute bottom-2 right-4 w-3 h-3 bg-[#B08D57] rounded-full shadow-[0_0_8px_rgba(176,141,87,0.6)]\"></div>\r\n      </div>\r\n\r\n      {/* Decorative elements - XIX century style */}\r\n      <div className=\"absolute -top-3 left-6 w-12 h-3 bg-[#B08D57] rounded-full opacity-80 shadow-[0_0_10px_rgba(176,141,87,0.4)]\"></div>\r\n      <div className=\"absolute -top-3 right-6 w-12 h-3 bg-[#B08D57] rounded-full opacity-80 shadow-[0_0_10px_rgba(176,141,87,0.4)]\"></div>\r\n      \r\n      {/* Shelf shadow - XIX century style */}\r\n      <div className=\"absolute -bottom-6 left-4 right-4 h-6 bg-black/40 rounded-full blur-md\"></div>\r\n      <div className=\"absolute -bottom-8 left-8 right-8 h-4 bg-black/20 rounded-full blur-lg\"></div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default BookShelf; ","import React from 'react';\r\nimport './CharacterInfoPage.css';\r\n\r\nconst CharacterInfoPage = ({ character }) => {\r\n  // Default character data if none provided\r\n  const defaultCharacter = {\r\n    id: \"ilia-chavchavadze\",\r\n    name: {\r\n      ka: \"ილია ჭავჭავაძე\",\r\n      en: \"Ilia Chavchavadze\"\r\n    },\r\n    title: {\r\n      ka: \"საზოგადო მოღვაწე, მწერალი, პუბლიცისტი\",\r\n      en: \"Public Figure, Writer, Publicist\"\r\n    },\r\n    birthYear: 1837,\r\n    deathYear: 1907,\r\n    image: \"/images/figures/ilia-chavchavadze.jpg\",\r\n    imageUrl: \"/images/figures/ilia-chavchavadze.jpg\",\r\n    description: {\r\n      ka: \"XIX საუკუნის ქართველი საზოგადო მოღვაწე, მწერალი, პუბლიცისტი და პოლიტიკოსი. ის იყო თერგდალეულების ხელმძღვანელი და ქართული ეროვნული მოძრაობის ერთ-ერთი მთავარი იდეოლოგი.\",\r\n      en: \"19th century Georgian public figure, writer, publicist and politician. He was the leader of Tergdaleulebi and one of the main ideologists of the Georgian national movement.\"\r\n    },\r\n    achievements: {\r\n      ka: [\r\n        \"ქართული ენისა და კულტურის განვითარება\",\r\n        \"საზოგადოებრივი აზრის ფორმირება\", \r\n        \"ლიტერატურული მემკვიდრეობის შექმნა\",\r\n        \"ეროვნული თვითშეგნების აღზრდა\"\r\n      ],\r\n      en: [\r\n        \"Development of Georgian language and culture\",\r\n        \"Formation of public opinion\",\r\n        \"Creation of literary heritage\",\r\n        \"Education of national self-awareness\"\r\n      ]\r\n    },\r\n    historicalRole: \"ილია ჭავჭავაძე ითვლება ქართული ეროვნული აღორძინების მთავარ ფიგურად. მისი მოღვაწეობა ხელს უწყობდა ქართული საზოგადოების განვითარებას და თანამედროვე ქართული ნაციონალიზმის ფორმირებას.\",\r\n    era: {\r\n      ka: \"XIX საუკუნე\",\r\n      en: \"19th Century\"\r\n    },\r\n    category: {\r\n      ka: \"მწერლები\",\r\n      en: \"Writers\"\r\n    }\r\n  };\r\n\r\n  const char = character || defaultCharacter;\r\n\r\n  return (\r\n    <div className=\"character-info-content\">\r\n      {/* მარჯვენა მხარე - ილია ჭავჭავაძის ინფორმაცია */}\r\n      <div className=\"ilia-info-section\">\r\n        <div className=\"ilia-info\">\r\n          <img \r\n            src={char.image} \r\n            alt={char.name?.ka || char.name} \r\n            className=\"ilia-portrait\"\r\n          />\r\n          <h3 className=\"ilia-name\">{char.name?.ka || char.name}</h3>\r\n          <p className=\"ilia-description\">\r\n            {char.description?.ka || char.description}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-number\">3</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CharacterInfoPage; ","import React, { useState, useRef, useEffect } from 'react';\r\nimport './VideoPage.css';\r\n\r\nconst VideoPage = ({ videoNumber, title, description, videoUrl }) => {\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [videoError, setVideoError] = useState(false);\r\n  const [videoLoaded, setVideoLoaded] = useState(false);\r\n  const videoRef = useRef(null);\r\n\r\n  // Check if video URL is valid\r\n  useEffect(() => {\r\n    if (videoUrl) {\r\n      setVideoError(false);\r\n      setVideoLoaded(false);\r\n    }\r\n  }, [videoUrl]);\r\n\r\n  const handlePlay = () => {\r\n    if (videoRef.current && !videoError) {\r\n      setIsLoading(true);\r\n      videoRef.current.play()\r\n        .then(() => {\r\n          setIsPlaying(true);\r\n          setIsLoading(false);\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error playing video:', error);\r\n          setIsLoading(false);\r\n          setVideoError(true);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handlePause = () => {\r\n    if (videoRef.current) {\r\n      videoRef.current.pause();\r\n      setIsPlaying(false);\r\n    }\r\n  };\r\n\r\n  const handleVideoEnd = () => {\r\n    setIsPlaying(false);\r\n  };\r\n\r\n  const handleVideoLoad = () => {\r\n    setVideoLoaded(true);\r\n    setVideoError(false);\r\n  };\r\n\r\n  const handleVideoError = () => {\r\n    setVideoError(true);\r\n    setIsLoading(false);\r\n    console.error('Video failed to load:', videoUrl);\r\n  };\r\n\r\n  return (\r\n    <div className=\"video-page\">\r\n      <div className=\"video-header\">\r\n        <div className=\"page-number-badge\">\r\n          გვერდი {videoNumber + 2}\r\n        </div>\r\n        <h2 className=\"video-title\">{title}</h2>\r\n        <p className=\"video-description\">{description}</p>\r\n      </div>\r\n\r\n      <div className=\"video-container\">\r\n        <div className=\"video-wrapper\">\r\n          <video\r\n            ref={videoRef}\r\n            className=\"video-player\"\r\n            controls={false}\r\n            onEnded={handleVideoEnd}\r\n            onLoadedData={handleVideoLoad}\r\n            onError={handleVideoError}\r\n            preload=\"metadata\"\r\n            crossOrigin=\"anonymous\"\r\n          >\r\n            <source src={videoUrl} type=\"video/mp4\" />\r\n            <source src={videoUrl} type=\"video/webm\" />\r\n            თქვენი ბრაუზერი არ მხარს უჭერს ვიდეო ფაილებს.\r\n          </video>\r\n\r\n          {!isPlaying && !videoError && (\r\n            <div className=\"video-overlay\">\r\n              <div className=\"play-button\" onClick={handlePlay}>\r\n                <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path d=\"M8 5v14l11-7z\"/>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {videoError && (\r\n            <div className=\"video-error-overlay\">\r\n              <div className=\"error-message\">\r\n                <p>❌ ვიდეო ვერ ჩაიტვირთა</p>\r\n                <p>ფაილი: {videoUrl}</p>\r\n                <button onClick={() => window.location.reload()} className=\"retry-btn\">\r\n                  ხელახლა ცდა\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {isLoading && (\r\n            <div className=\"loading-overlay\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>ვიდეო იტვირთება...</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"video-controls\">\r\n          <button \r\n            className=\"control-btn\"\r\n            onClick={isPlaying ? handlePause : handlePlay}\r\n            disabled={videoError}\r\n          >\r\n            {isPlaying ? '⏸️' : '▶️'}\r\n          </button>\r\n          {videoError && (\r\n            <button \r\n              className=\"control-btn retry-btn\"\r\n              onClick={() => window.location.reload()}\r\n            >\r\n              🔄\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"video-info\">\r\n        <div className=\"video-duration\">დრო: ~5 წუთი</div>\r\n        <div className=\"video-quality\">ხარისხი: HD</div>\r\n        {videoError && (\r\n          <div className=\"video-error-info\">\r\n            <span>❌ ვიდეო ვერ ჩაიტვირთა</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"video-footer\">\r\n        <div className=\"video-notes\">\r\n          <h4>შენიშვნა:</h4>\r\n          <p>ეს ვიდეო მოიცავს ილია ჭავჭავაძის ცხოვრებისა და მოღვაწეობის მნიშვნელოვან მომენტებს.</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"decorative-border\">\r\n        <div className=\"corner-ornament top-left\"></div>\r\n        <div className=\"corner-ornament top-right\"></div>\r\n        <div className=\"corner-ornament bottom-left\"></div>\r\n        <div className=\"corner-ornament bottom-right\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPage; ","import React, { useState, useRef, useEffect } from 'react';\nimport CharacterInfoPage from './pages/CharacterInfoPage';\nimport VideoPage from './pages/VideoPage';\nimport { HistoricalFigure } from '../../data/historicalFigures';\nimport HTMLFlipBook from 'react-pageflip';\nimport './Book.css';\nimport './pages/BookSpread.css';\n\ninterface Message {\n  id: number;\n  text: string;\n  sender: 'bot' | 'user';\n  time: string;\n}\n\ninterface BookProps {\n  character?: HistoricalFigure;\n}\n\nconst Book: React.FC<BookProps> = ({ character }) => {\n  const [currentPage, setCurrentPage] = useState(0);\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: 1,\n      text: character?.greeting || \"გამარჯობა! მე ვარ ილია ჭავჭავაძე. მეკითხეთ რამე ჩემს ცხოვრებაზე, მუშაობაზე და იდეალებზე.\",\n      sender: 'bot',\n      time: '09:27 AM'\n    }\n  ]);\n  const [input, setInput] = useState<string>('');\n  const bookContainerRef = useRef<HTMLDivElement>(null);\n  const pageRefs = useRef<(HTMLDivElement | null)[]>([]);\n  const [isScrolling, setIsScrolling] = useState(false);\n  \n  // Default character data if none provided\n  const defaultCharacter: HistoricalFigure = {\n    id: \"ilia-chavchavadze\",\n    name: {\n      ka: \"ილია ჭავჭავაძე\",\n      en: \"Ilia Chavchavadze\"\n    },\n    title: {\n      ka: \"საზოგადო მოღვაწე, მწერალი, პუბლიცისტი\",\n      en: \"Public Figure, Writer, Publicist\"\n    },\n    birthYear: 1837,\n    deathYear: 1907,\n    image: \"/images/figures/ilia-chavchavadze.jpg\",\n    imageUrl: \"/images/figures/ilia-chavchavadze.jpg\",\n    description: {\n      ka: \"XIX საუკუნის ქართველი საზოგადო მოღვაწე, მწერალი, პუბლიცისტი და პოლიტიკოსი. ის იყო თერგდალეულების ხელმძღვანელი და ქართული ეროვნული მოძრაობის ერთ-ერთი მთავარი იდეოლოგი.\",\n      en: \"19th century Georgian public figure, writer, publicist and politician. He was the leader of Tergdaleulebi and one of the main ideologists of the Georgian national movement.\"\n    },\n    achievements: {\n      ka: [\n        \"ქართული ენისა და კულტურის განვითარება\",\n        \"საზოგადოებრივი აზრის ფორმირება\",\n        \"ლიტერატურული მემკვიდრეობის შექმნა\",\n        \"ეროვნული თვითშეგნების აღზრდა\"\n      ],\n      en: [\n        \"Development of Georgian language and culture\",\n        \"Formation of public opinion\",\n        \"Creation of literary heritage\",\n        \"Raising national self-awareness\"\n      ]\n    },\n    historicalRole: \"ილია ჭავჭავაძე ითვლება ქართული ეროვნული აღორძინების მთავარ ფიგურად.\",\n    greeting: \"გამარჯობა! მე ვარ ილია ჭავჭავაძე. შეგიძლიათ მკითხოთ ჩემს ცხოვრებაზე, მუშაობაზე და იდეალებზე.\",\n    era: {\n      ka: \"XIX საუკუნე\",\n      en: \"19th Century\"\n    },\n    category: {\n      ka: \"მწერლები\",\n      en: \"Writers\"\n    },\n    videos: [\n      {\n        number: 1,\n        title: \"დოკუმენტური ფილმი ნაწილი 1\",\n        description: \"ილია ჭავჭავაძის ცხოვრება და მოღვაწეობა\",\n        url: \"/videos/ilia-1.mp4\"\n      },\n      {\n        number: 2,\n        title: \"დოკუმენტური ფილმი ნაწილი 2\",\n        description: \"საზოგადოებრივი მოღვაწეობა\",\n        url: \"/videos/ilia-2.mp4\"\n      },\n      {\n        number: 3,\n        title: \"დოკუმენტური ფილმი ნაწილი 3\",\n        description: \"ლიტერატურული მემკვიდრეობა\",\n        url: \"/videos/ilia-3.mp4\"\n      },\n      {\n        number: 4,\n        title: \"დოკუმენტური ფილმი ნაწილი 4\",\n        description: \"ეროვნული მემკვიდრეობა\",\n        url: \"/videos/ilia-4.mp4\"\n      },\n      {\n        number: 5,\n        title: \"დოკუმენტური ფილმი ნაწილი 5\",\n        description: \"ქართული კულტურის განვითარება\",\n        url: \"/videos/ilia-5.mp4\"\n      },\n      {\n        number: 6,\n        title: \"დოკუმენტური ფილმი ნაწილი 6\",\n        description: \"ისტორიული მნიშვნელობა\",\n        url: \"/videos/ilia-6.mp4\"\n      },\n      {\n        number: 7,\n        title: \"დოკუმენტური ფილმი ნაწილი 7\",\n        description: \"ლიტერატურული შემოქმედება\",\n        url: \"/videos/ilia-7.mp4\"\n      },\n      {\n        number: 8,\n        title: \"დოკუმენტური ფილმი ნაწილი 8\",\n        description: \"საზოგადოებრივი მოღვაწეობის შედეგები\",\n        url: \"/videos/ilia-8.mp4\"\n      }\n    ]\n  };\n\n  const char = character || defaultCharacter;\n  const totalPages = 5; // Changed from 6 to 5\n\n  // Improved scroll event handler with debouncing\n  const handleScroll = () => {\n    if (!bookContainerRef.current || isScrolling) return;\n    \n    const container = bookContainerRef.current;\n    const scrollTop = container.scrollTop;\n    const containerHeight = container.clientHeight;\n    \n    // Calculate current page based on scroll position\n    const pageHeight = container.scrollHeight / totalPages;\n    const currentPageIndex = Math.floor(scrollTop / pageHeight);\n    \n    const newPage = Math.min(currentPageIndex, totalPages - 1);\n    if (newPage !== currentPage) {\n      setCurrentPage(newPage);\n    }\n  };\n\n  // გვერდების სტრუქტურა და ნავიგაცია\n  const pageStructure = {\n    totalPages: 5,\n    fixedPages: [0, 1], // ფიქსირებული გვერდები (ჩატი და ინფო)\n    videoPages: [3, 4], // ვიდეო გვერდები\n    spreadPages: [2] // გაშლილი გვერდები (ციტატები)\n  };\n\n  // გვერდების ნავიგაციის ლოგიკა\n  const canNavigateToPage = (pageIndex: number) => {\n    if (pageIndex < 0 || pageIndex >= pageStructure.totalPages) return false;\n    \n    // ფიქსირებული გვერდები ყოველთვის ხელმისაწვდომია\n    if (pageStructure.fixedPages.includes(pageIndex)) return true;\n    \n    // ვიდეო გვერდები მხოლოდ მაშინ, როცა ვიდეოები ხელმისაწვდომია\n    if (pageStructure.videoPages.includes(pageIndex)) {\n      return char.videos && char.videos.length > 0;\n    }\n    \n    return true;\n  };\n\n  // Navigate to specific page with improved logic\n  const goToPage = (pageIndex: number) => {\n    if (!bookContainerRef.current || !canNavigateToPage(pageIndex)) {\n      console.log(`Cannot navigate to page ${pageIndex + 1}`);\n      return;\n    }\n    \n    setIsScrolling(true);\n    const container = bookContainerRef.current;\n    const pageHeight = container.scrollHeight / pageStructure.totalPages;\n    const targetScrollTop = pageIndex * pageHeight;\n    \n    // Add smooth scrolling with better timing\n    container.scrollTo({\n      top: targetScrollTop,\n      behavior: 'smooth'\n    });\n    \n    setCurrentPage(pageIndex);\n    \n    // Reset scrolling flag after animation with longer delay\n    setTimeout(() => {\n      setIsScrolling(false);\n    }, 1500);\n  };\n\n  // Keyboard navigation with improved controls\n  useEffect(() => {\n    const handleKeyPress = (e: KeyboardEvent) => {\n      if (isScrolling) return;\n      \n      switch(e.key) {\n        case 'ArrowUp':\n        case 'ArrowLeft':\n        case 'PageUp':\n          e.preventDefault();\n          if (currentPage > 0) {\n            const prevPage = currentPage - 1;\n            if (canNavigateToPage(prevPage)) {\n              goToPage(prevPage);\n            }\n          }\n          break;\n        case 'ArrowDown':\n        case 'ArrowRight':\n        case 'PageDown':\n          e.preventDefault();\n          if (currentPage < pageStructure.totalPages - 1) {\n            const nextPage = currentPage + 1;\n            if (canNavigateToPage(nextPage)) {\n              goToPage(nextPage);\n            }\n          }\n          break;\n        case '1':\n        case '2':\n        case '3':\n        case '4':\n        case '5':\n          e.preventDefault();\n          const pageIndex = parseInt(e.key) - 1;\n          if (canNavigateToPage(pageIndex)) {\n            goToPage(pageIndex);\n          }\n          break;\n        case 'Home':\n          e.preventDefault();\n          goToPage(0);\n          break;\n        case 'End':\n          e.preventDefault();\n          goToPage(pageStructure.totalPages - 1);\n          break;\n        case 'h':\n        case 'H':\n          e.preventDefault();\n          // Toggle help overlay\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [currentPage, isScrolling]);\n\n  // Add scroll event listener with improved throttling\n  useEffect(() => {\n    const container = bookContainerRef.current;\n    if (container) {\n      let scrollTimeout: NodeJS.Timeout | null = null;\n      \n      const throttledScroll = () => {\n        if (scrollTimeout) return;\n        \n        scrollTimeout = setTimeout(() => {\n          handleScroll();\n          scrollTimeout = null;\n        }, 150); // Increased from 100 to 150ms\n      };\n      \n      container.addEventListener('scroll', throttledScroll);\n      return () => {\n        container.removeEventListener('scroll', throttledScroll);\n        if (scrollTimeout) clearTimeout(scrollTimeout);\n      };\n    }\n  }, [currentPage, isScrolling]);\n\n  // Group videos into pages of 4\n  const groupVideosIntoPages = (videos: any[], videosPerPage: number = 4) => {\n    const pages = [];\n    for (let i = 0; i < videos.length; i += videosPerPage) {\n      pages.push(videos.slice(i, i + videosPerPage));\n    }\n    return pages;\n  };\n\n  const videoPages = groupVideosIntoPages(char.videos, 4);\n\n  // XIX საუკუნის ვიზუალური ეფექტები\n  useEffect(() => {\n    // სანთლის ციმციმის ეფექტი\n    const candleEffect = () => {\n      const bookElement = document.querySelector('.book');\n      if (bookElement) {\n        bookElement.classList.add('candlelight-mode');\n      }\n    };\n\n    // ღამის რეჟიმის შემოწმება\n    const checkNightMode = () => {\n      const hour = new Date().getHours();\n      if (hour > 20 || hour < 6) {\n        candleEffect();\n      }\n    };\n\n    checkNightMode();\n    const interval = setInterval(checkNightMode, 60000); // ყოველ წუთს\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // ვერტიკალური გვერდებიანი განლაგება\n  return (\n    <div className=\"book-container\">\n      {/* Page Navigation */}\n      <div className=\"page-navigation\">\n        <div className=\"page-indicators\">\n          {Array.from({ length: pageStructure.totalPages }, (_, index) => (\n            <button\n              key={index}\n              className={`page-indicator ${currentPage === index ? 'active' : ''} ${!canNavigateToPage(index) ? 'disabled' : ''}`}\n              onClick={() => canNavigateToPage(index) && goToPage(index)}\n              title={`გვერდი ${index + 1}${!canNavigateToPage(index) ? ' (არ არის ხელმისაწვდომი)' : ''}`}\n              disabled={!canNavigateToPage(index)}\n            >\n              {index + 1}\n            </button>\n          ))}\n        </div>\n        <div className=\"page-info\">\n          გვერდი {currentPage + 1} / {pageStructure.totalPages}\n        </div>\n      </div>\n\n      {/* Book Content */}\n      <div className=\"book-vertical-container\" ref={bookContainerRef}>\n        {/* გვერდი 1: ჩატი */}\n        <div \n          className=\"book-page chat-page\" \n          ref={(el) => pageRefs.current[0] = el}\n        >\n          <div className=\"page-header\">\n            <h2 className=\"page-title\">საუბარი {char.name.ka}-თან</h2>\n          </div>\n          <div className=\"chat-section\">\n            <div className=\"messages-area\">\n              {messages.map((msg) => (\n                <div key={msg.id} className={`message ${msg.sender === 'bot' ? 'bot-message' : 'user-message'}`}>\n                  <p>{msg.text}</p>\n                  <span className=\"time\">{msg.time}</span>\n                </div>\n              ))}\n            </div>\n            <div className=\"input-area\">\n              <textarea\n                className=\"message-input\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                placeholder=\"დაწერეთ თქვენი შეტყობინება...\"\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    if (input.trim()) {\n                      setMessages([...messages, { id: messages.length + 1, text: input, sender: 'user', time: new Date().toLocaleTimeString() }]);\n                      setInput('');\n                    }\n                  }\n                }}\n              />\n              <button\n                className=\"send-btn\"\n                onClick={() => {\n                  if (input.trim()) {\n                    setMessages([...messages, { id: messages.length + 1, text: input, sender: 'user', time: new Date().toLocaleTimeString() }]);\n                    setInput('');\n                  }\n                }}\n              >\n                ➤\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* გვერდი 2: ძირითადი ინფორმაცია */}\n        <div \n          className=\"book-page info-page\"\n          ref={(el) => pageRefs.current[1] = el}\n        >\n          <div className=\"page-header\">\n            <h2 className=\"page-title\">ძირითადი ინფორმაცია</h2>\n          </div>\n          <div className=\"info-section\">\n            <CharacterInfoPage character={char} />\n          </div>\n        </div>\n\n        {/* გვერდი 3: ციტატები */}\n        <div \n          className=\"book-page quotes-page\"\n          ref={(el) => pageRefs.current[2] = el}\n        >\n          <div className=\"page-header\">\n            <h2 className=\"page-title\">ციტატები და იდეები</h2>\n          </div>\n          <div className=\"quotes-section\">\n            <div className=\"quotes-container\">\n              <div className=\"quote-card\">\n                <blockquote>\n                  \"ქართული ენა არის ჩვენი ეროვნული უნარის ძირითადი საფუძველი\"\n                </blockquote>\n                <cite>- ილია ჭავჭავაძე</cite>\n              </div>\n              <div className=\"quote-card\">\n                <blockquote>\n                  \"განათლება არის თავისუფლების გზა\"\n                </blockquote>\n                <cite>- ილია ჭავჭავაძე</cite>\n              </div>\n              <div className=\"quote-card\">\n                <blockquote>\n                  \"ერი, რომელიც არ იცის თავისი ისტორია, ვერ შეძლებს მომავლის აშენებას\"\n                </blockquote>\n                <cite>- ილია ჭავჭავაძე</cite>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* გვერდი 4: ვიდეოები - პირველი 4 */}\n        {char.videos && char.videos.length > 0 && (\n          <div \n            className=\"book-page videos-page\"\n            ref={(el) => pageRefs.current[3] = el}\n          >\n            <div className=\"page-header\">\n              <h2 className=\"page-title\">დოკუმენტური ფილმები (1-4)</h2>\n            </div>\n            <div className=\"videos-section\">\n              <div className=\"videos-grid\">\n                {videoPages[0]?.map((video, index) => (\n                  <div key={video.number} className=\"video-item\">\n                    <VideoPage \n                      videoNumber={video.number}\n                      title={video.title}\n                      description={video.description}\n                      videoUrl={video.url}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* გვერდი 5: ვიდეოები - მეორე 4 */}\n        {char.videos && char.videos.length > 4 && (\n          <div \n            className=\"book-page videos-page\"\n            ref={(el) => pageRefs.current[4] = el}\n          >\n            <div className=\"page-header\">\n              <h2 className=\"page-title\">დოკუმენტური ფილმები (5-8)</h2>\n            </div>\n            <div className=\"videos-section\">\n              <div className=\"videos-grid\">\n                {videoPages[1]?.map((video, index) => (\n                  <div key={video.number} className=\"video-item\">\n                    <VideoPage \n                      videoNumber={video.number}\n                      title={video.title}\n                      description={video.description}\n                      videoUrl={video.url}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Book; ","import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useTranslation } from 'react-i18next';\nimport { HistoricalFigure } from '../../data/historicalFigures';\nimport Book from '../../components/Book/Book';\n\ninterface VideoBookViewProps {\n  figure: HistoricalFigure;\n  onClose: () => void;\n  isOpen: boolean;\n}\n\nconst VideoBookView: React.FC<VideoBookViewProps> = ({ figure, onClose, isOpen }) => {\n  const { i18n } = useTranslation();\n  const language = i18n.language as 'ka' | 'en';\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 min-h-screen overflow-y-auto\"\n          onClick={onClose}\n        >\n          <motion.div\n            initial={{ scale: 0.8, rotateY: -90 }}\n            animate={{ scale: 1, rotateY: 0 }}\n            exit={{ scale: 0.8, rotateY: 90 }}\n            transition={{ duration: 0.6, ease: \"easeOut\" }}\n            className=\"relative w-full h-screen bg-gradient-to-br from-[#1C1410] to-[#0A0908] overflow-hidden\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Atmospheric Background */}\n            <div className=\"absolute inset-0 bg-[url('/textures/dark-wood-pattern.jpg')] opacity-20\"></div>\n            \n            {/* Candle Glow Effect */}\n            <div className=\"candle-glow\"></div>\n            \n            {/* Dust Particles */}\n            <div className=\"absolute inset-0 pointer-events-none\">\n              {[...Array(20)].map((_, i) => (\n                <div \n                  key={i}\n                  className=\"dust-particle\"\n                  style={{\n                    left: `${Math.random() * 100}%`,\n                    animationDelay: `${Math.random() * 10}s`,\n                    animationDuration: `${15 + Math.random() * 10}s`\n                  }}\n                />\n              ))}\n            </div>\n            \n            {/* Close Button */}\n            <button\n              onClick={onClose}\n              className=\"close-button\"\n            >\n              ✕\n            </button>\n            \n            {/* New Book Component with Figure Data */}\n            <Book character={figure} />\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default VideoBookView; ","import React, { useState, useMemo } from 'react';\nimport { motion } from 'framer-motion';\nimport { useTranslation } from 'react-i18next';\nimport { Search, Filter, BookOpen } from 'lucide-react';\nimport { HistoricalFigure, historicalFigures, getHistoricalFigure } from '../../data/historicalFigures';\nimport BookShelf from './BookShelf';\nimport VideoBookView from './VideoBookView';\n\nconst LibraryPage: React.FC = () => {\n  const { t, i18n } = useTranslation();\n  const language = i18n.language as 'ka' | 'en';\n  \n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedEra, setSelectedEra] = useState('');\n  const [selectedFigure, setSelectedFigure] = useState<HistoricalFigure | null>(null);\n  const [isBookOpen, setIsBookOpen] = useState(false);\n  const [isSearching, setIsSearching] = useState(false);\n\n  // Filter figures based on search and era with loading state\n  const filteredFigures = useMemo(() => {\n    setIsSearching(true);\n    \n    let figures = historicalFigures;\n    \n    if (searchQuery) {\n      const lowercaseQuery = searchQuery.toLowerCase();\n      figures = figures.filter(figure => \n        figure.name.ka.toLowerCase().includes(lowercaseQuery) ||\n        figure.name.en.toLowerCase().includes(lowercaseQuery) ||\n        figure.title.ka.toLowerCase().includes(lowercaseQuery) ||\n        figure.title.en.toLowerCase().includes(lowercaseQuery) ||\n        figure.description.ka.toLowerCase().includes(lowercaseQuery) ||\n        figure.description.en.toLowerCase().includes(lowercaseQuery) ||\n        figure.achievements.ka.some(achievement => \n          achievement.toLowerCase().includes(lowercaseQuery)\n        ) ||\n        figure.achievements.en.some(achievement => \n          achievement.toLowerCase().includes(lowercaseQuery)\n        )\n      );\n    }\n    \n    if (selectedEra) {\n      figures = figures.filter(figure => {\n        const birthYear = figure.birthYear;\n        switch (selectedEra) {\n          case 'medieval':\n            return birthYear >= 500 && birthYear < 1500;\n          case 'renaissance':\n            return birthYear >= 1300 && birthYear < 1600;\n          case 'enlightenment':\n            return birthYear >= 1600 && birthYear < 1800;\n          case 'modern':\n            return birthYear >= 1800;\n          default:\n            return true;\n        }\n      });\n    }\n    \n    // Simulate search delay for better UX\n    setTimeout(() => setIsSearching(false), 300);\n    \n    return figures;\n  }, [searchQuery, selectedEra]);\n\n  const handleBookClick = (figure: HistoricalFigure) => {\n    setSelectedFigure(figure);\n    setIsBookOpen(true);\n  };\n\n  const handleCloseBook = () => {\n    setIsBookOpen(false);\n    setSelectedFigure(null);\n  };\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleEraChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setSelectedEra(e.target.value);\n  };\n\n  const clearFilters = () => {\n    setSearchQuery('');\n    setSelectedEra('');\n  };\n\n  const eras = [\n    { value: 'medieval', label: { ka: 'შუა საუკუნეები', en: 'Medieval' } },\n    { value: 'renaissance', label: { ka: 'რენესანსი', en: 'Renaissance' } },\n    { value: 'enlightenment', label: { ka: 'განმანათლებლობა', en: 'Enlightenment' } },\n    { value: 'modern', label: { ka: 'ახალი დრო', en: 'Modern Era' } }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-[#0A0908] via-[#1C1410] to-[#2A1810] relative overflow-hidden\">\n      {/* Candle glow effect */}\n      <div className=\"candle-glow\"></div>\n      \n      {/* Background ornaments */}\n      <div className=\"absolute inset-0 opacity-10\">\n        <div className=\"absolute top-20 left-20 w-40 h-40 border border-[#D4A574]/20 rounded-full\"></div>\n        <div className=\"absolute top-40 right-40 w-32 h-32 border border-[#B08D57]/20 rounded-full\"></div>\n        <div className=\"absolute bottom-40 left-1/3 w-24 h-24 border border-[#D4A574]/20 rounded-full\"></div>\n        <div className=\"absolute bottom-20 right-20 w-16 h-16 border border-[#B08D57]/20 rounded-full\"></div>\n      </div>\n\n      {/* Header */}\n      <motion.div\n        initial={{ opacity: 0, y: -50 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.8 }}\n        className=\"pt-24 pb-12 text-center relative z-10\"\n      >\n        <h1 \n          className={`text-4xl md:text-6xl font-bold text-[#D4A574] mb-6 ${\n            i18n.language === 'ka' ? 'font-georgian' : 'font-heading'\n          }`}\n          style={{\n            textShadow: '3px 3px 6px rgba(0, 0, 0, 0.8), 0 0 20px rgba(212, 165, 116, 0.3)',\n            letterSpacing: '3px'\n          }}\n        >\n          {language === 'ka' ? 'ქრონიკების ბიბლიოთეკა' : 'Chronicles Library'}\n        </h1>\n        <p \n          className={`text-lg md:text-xl text-[#FFFEF2] max-w-3xl mx-auto px-6 ${\n            i18n.language === 'ka' ? 'font-georgian' : 'font-body'\n          }`}\n          style={{\n            textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)',\n            letterSpacing: '1px'\n          }}\n        >\n          {language === 'ka' \n            ? 'ქართული ისტორიის უდიდესი მოღვაწეების ციფრული ქრონიკები'\n            : 'Digital Chronicles of Georgian History\\'s Greatest Figures'\n          }\n        </p>\n      </motion.div>\n\n      {/* Search and Filter Controls */}\n      <motion.div\n        initial={{ opacity: 0, y: 30 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.6, delay: 0.2 }}\n        className=\"max-w-4xl mx-auto mb-12 px-6\"\n      >\n        <div className=\"bg-gradient-to-r from-[#1C1410]/80 to-[#2A1810]/80 backdrop-blur-sm rounded-lg p-8 shadow-[0_8px_32px_rgba(0,0,0,0.5)] border-2 border-[#D4A574]/30\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Search */}\n            <div>\n              <label className={`block text-[#D4A574] mb-3 font-medium ${\n                i18n.language === 'ka' ? 'font-georgian' : 'font-heading'\n              }`}\n              style={{\n                textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)',\n                letterSpacing: '1px'\n              }}>\n                <Search className=\"inline w-4 h-4 mr-2\" />\n                {language === 'ka' ? 'ძიება' : 'Search'}\n              </label>\n              <div className=\"relative\">\n                <input\n                  type=\"text\"\n                  value={searchQuery}\n                  onChange={handleSearchChange}\n                  placeholder={language === 'ka' ? 'ძიება მოღვაწეების მიხედვით...' : 'Search by figures...'}\n                  className={`w-full px-4 py-3 bg-[#0A0908]/50 border-2 border-[#B08D57]/50 rounded-lg text-[#FFFEF2] placeholder-[#B08D57]/60 focus:outline-none focus:ring-2 focus:ring-[#D4A574] focus:border-[#D4A574] transition-all duration-300 ${\n                    i18n.language === 'ka' ? 'font-georgian' : 'font-body'\n                  }`}\n                  style={{\n                    letterSpacing: '1px'\n                  }}\n                />\n                {isSearching && (\n                  <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-[#D4A574]\"></div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Era Filter */}\n            <div>\n              <label className={`block text-[#D4A574] mb-3 font-medium ${\n                i18n.language === 'ka' ? 'font-georgian' : 'font-heading'\n              }`}\n              style={{\n                textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)',\n                letterSpacing: '1px'\n              }}>\n                <Filter className=\"inline w-4 h-4 mr-2\" />\n                {language === 'ka' ? 'საუკუნე' : 'Era'}\n              </label>\n              <select\n                value={selectedEra}\n                onChange={handleEraChange}\n                className={`w-full px-4 py-3 bg-[#0A0908]/50 border-2 border-[#B08D57]/50 rounded-lg text-[#FFFEF2] focus:outline-none focus:ring-2 focus:ring-[#D4A574] focus:border-[#D4A574] transition-all duration-300 ${\n                  i18n.language === 'ka' ? 'font-georgian' : 'font-body'\n                }`}\n                style={{\n                  letterSpacing: '1px'\n                }}\n              >\n                <option value=\"\">\n                  {language === 'ka' ? 'ყველა საუკუნე' : 'All Eras'}\n                </option>\n                {eras.map((era) => (\n                  <option key={era.value} value={era.value}>\n                    {era.label[language]}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Results count and clear filters */}\n          <div className=\"mt-6 flex justify-between items-center\">\n            <p className={`text-[#B08D57] ${\n              i18n.language === 'ka' ? 'font-georgian' : 'font-body'\n            }`}\n            style={{\n              letterSpacing: '1px'\n            }}>\n              <BookOpen className=\"inline w-4 h-4 mr-2\" />\n              {language === 'ka' \n                ? `${filteredFigures.length} წიგნი ნაპოვნია`\n                : `${filteredFigures.length} books found`\n              }\n            </p>\n            {(searchQuery || selectedEra) && (\n              <button\n                onClick={clearFilters}\n                className={`text-[#D4A574] hover:text-[#B08D57] transition-colors ${\n                  i18n.language === 'ka' ? 'font-georgian' : 'font-body'\n                }`}\n                style={{\n                  letterSpacing: '1px'\n                }}\n              >\n                {language === 'ka' ? 'ფილტრების გასუფთავება' : 'Clear Filters'}\n              </button>\n            )}\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Bookshelf */}\n      <motion.div\n        initial={{ opacity: 0, y: 50 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.8, delay: 0.4 }}\n        className=\"px-6 pb-12\"\n      >\n        {isSearching ? (\n          <div className=\"text-center py-16\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#D4A574] mx-auto mb-4\"></div>\n            <p className={`text-[#B08D57] ${\n              i18n.language === 'ka' ? 'font-georgian' : 'font-body'\n            }`}\n            style={{\n              letterSpacing: '1px'\n            }}>\n              {language === 'ka' ? 'მიმდინარეობს ძიება...' : 'Searching...'}\n            </p>\n          </div>\n        ) : filteredFigures.length > 0 ? (\n          <BookShelf\n            figures={filteredFigures}\n            onBookClick={handleBookClick}\n            title={language === 'ka' ? 'ისტორიული მოღვაწეები' : 'Historical Figures'}\n          />\n        ) : (\n          <div className=\"text-center py-16\">\n            <div className=\"w-24 h-24 mx-auto mb-6 text-[#B08D57]\">\n              <BookOpen className=\"w-full h-full\" />\n            </div>\n            <h3 className={`text-2xl font-bold text-[#D4A574] mb-4 ${\n              i18n.language === 'ka' ? 'font-georgian' : 'font-heading'\n            }`}\n            style={{\n              textShadow: '2px 2px 4px rgba(0, 0, 0, 0.6)',\n              letterSpacing: '2px'\n            }}>\n              {language === 'ka' ? 'წიგნები ვერ მოიძებნა' : 'No Books Found'}\n            </h3>\n            <p className={`text-[#B08D57] mb-6 max-w-md mx-auto ${\n              i18n.language === 'ka' ? 'font-georgian' : 'font-body'\n            }`}\n            style={{\n              letterSpacing: '1px'\n            }}>\n              {language === 'ka' \n                ? 'სამწუხაროდ, თქვენი ძიების კრიტერიუმების მიხედვით წიგნები ვერ მოიძებნა.'\n                : 'Unfortunately, no books were found matching your search criteria.'\n              }\n            </p>\n            {(searchQuery || selectedEra) && (\n              <button\n                onClick={clearFilters}\n                className=\"px-6 py-3 bg-gradient-to-r from-[#1C1410] to-[#2A1810] hover:from-[#2A1810] hover:to-[#1C1410] text-[#D4A574] font-bold rounded-lg transition-all duration-300 border-2 border-[#D4A574] hover:border-[#B08D57] hover:shadow-[0_0_20px_rgba(212,165,116,0.3)]\"\n                style={{\n                  fontFamily: i18n.language === 'ka' ? 'Noto Serif Georgian, serif' : 'Georgia, serif',\n                  letterSpacing: '2px'\n                }}\n              >\n                {language === 'ka' ? 'ყველა წიგნის ნახვა' : 'View All Books'}\n              </button>\n            )}\n          </div>\n        )}\n      </motion.div>\n\n      {/* Book View Modal */}\n      {selectedFigure && (\n        <VideoBookView\n          figure={selectedFigure}\n          onClose={handleCloseBook}\n          isOpen={isBookOpen}\n        />\n      )}\n\n      {/* Corner ornaments */}\n      <div className=\"absolute top-8 left-8 w-16 h-16 border-l-2 border-t-2 border-[#D4A574]/20\"></div>\n      <div className=\"absolute top-8 right-8 w-16 h-16 border-r-2 border-t-2 border-[#D4A574]/20\"></div>\n      <div className=\"absolute bottom-8 left-8 w-16 h-16 border-l-2 border-b-2 border-[#D4A574]/20\"></div>\n      <div className=\"absolute bottom-8 right-8 w-16 h-16 border-r-2 border-b-2 border-[#D4A574]/20\"></div>\n    </div>\n  );\n};\n\nexport default LibraryPage; "],"names":["useIsMounted","isMounted","useRef","useIsomorphicLayoutEffect","useForceUpdate","forcedRenderCount","setForcedRenderCount","useState","forceRender","useCallback","frame","PopChildMeasure","React.Component","prevProps","element","size","PopChild","children","isPresent","id","useId","ref","useInsertionEffect","width","height","top","left","style","React.createElement","React.cloneElement","PresenceChild","initial","onExitComplete","custom","presenceAffectsLayout","mode","presenceChildren","useConstant","newChildrenMap","context","useMemo","childId","isComplete","_","key","React.useEffect","PresenceContext","useUnmountEffect","callback","useEffect","getChildKey","child","updateChildLookup","allChildren","onlyElements","filtered","Children","isValidElement","AnimatePresence","exitBeforeEnter","useContext","LayoutGroupContext","filteredChildren","childrenToRender","exitingChildren","presentChildren","isInitialRender","React.Fragment","presentKeys","targetKeys","numPresent","i","component","insertionIndex","exitingComponent","onExit","leftOverKeys","childKey","leftOverKey","presentChild","presentChildKey","cloneElement","Filter","createLucideIcon","Search","historicalFigures","BookCard","figure","onClick","index","i18n","useTranslation","navigate","useNavigate","language","getBookColor","figureId","getBookThickness","bookColor","bookThickness","handleBookClick","jsxs","motion","jsx","BookShelf","figures","onBookClick","title","CharacterInfoPage","character","char","_a","VideoPage","videoNumber","description","videoUrl","isPlaying","setIsPlaying","isLoading","setIsLoading","videoError","setVideoError","videoLoaded","setVideoLoaded","videoRef","handlePlay","error","handlePause","handleVideoEnd","handleVideoLoad","handleVideoError","Book","currentPage","setCurrentPage","messages","setMessages","input","setInput","bookContainerRef","pageRefs","isScrolling","setIsScrolling","totalPages","handleScroll","container","scrollTop","pageHeight","currentPageIndex","newPage","pageStructure","canNavigateToPage","pageIndex","goToPage","targetScrollTop","handleKeyPress","e","prevPage","nextPage","scrollTimeout","throttledScroll","videoPages","videos","videosPerPage","pages","candleEffect","bookElement","checkNightMode","hour","interval","el","msg","video","_b","VideoBookView","onClose","isOpen","LibraryPage","t","searchQuery","setSearchQuery","selectedEra","setSelectedEra","selectedFigure","setSelectedFigure","isBookOpen","setIsBookOpen","isSearching","setIsSearching","filteredFigures","lowercaseQuery","achievement","birthYear","handleCloseBook","handleSearchChange","handleEraChange","clearFilters","eras","era","BookOpen"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}